<div class="min-h-screen flex flex-col bg-[#0d1f33] text-gray-300">
  <app-header></app-header>

  <main class="flex-grow">
    <section class="relative w-full border-b border-slate-800/60 bg-black">
      <video
        #heroVideo
        class="w-full max-h-[58vh] object-cover"
        autoplay
        [muted]="heroMuted()"
        loop
        playsinline
        preload="metadata"
      >
        <source src="assets/video_portada.mp4" type="video/mp4" />
        {{ i18n.lang() === 'es' ? 'Tu navegador no soporta la reproducción de video.' : 'Your browser does not support video playback.' }}
      </video>
      <button
        type="button"
        (click)="toggleVideoMute(heroVideo)"
        class="absolute bottom-4 right-4 rounded-md border border-white/40 bg-black/50 px-3 py-2 text-sm font-semibold text-white hover:bg-black/70"
      >
        @if (heroMuted()) {
          {{ i18n.lang() === 'es' ? 'Activar sonido' : 'Enable sound' }}
        } @else {
          {{ i18n.lang() === 'es' ? 'Silenciar' : 'Mute' }}
        }
      </button>
    </section>

    <section class="relative py-20 md:py-32 container mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <div class="absolute inset-0 z-0 overflow-hidden" aria-hidden="true">
        <div class="absolute w-96 h-96 bg-blue-900/40 rounded-full blur-3xl -top-20 -left-20"></div>
        <div class="absolute w-96 h-96 bg-cyan-900/40 rounded-full blur-3xl -bottom-20 -right-20"></div>
      </div>
      <div class="relative z-10">
        <h1 class="text-4xl md:text-6xl font-extrabold text-white leading-tight tracking-tight">
          {{ i18n.lang() === 'es' ? 'Consultoría Técnica de Alto Valor para Industrias Complejas' : 'High-Value Technical Consulting for Complex Industries' }}
        </h1>
        <p class="mt-6 text-lg md:text-xl text-gray-300 max-w-3xl mx-auto">
          {{ i18n.lang() === 'es' ? 'Ofrecemos soluciones expertas de ingeniería y tecnología, desde cumplimiento normativo y BIM hasta aseguramiento de calidad con IA, para impulsar el éxito de tus proyectos.' : 'We provide expert engineering and technology solutions, from regulatory compliance and BIM to AI-driven quality assurance, to drive your project\'s success.' }}
        </p>
        <div class="mt-10 flex flex-wrap justify-center gap-4">
          <a
            href="https://calendly.com/administracion-techneconstrucciones"
            (click)="openCalendly($event)"
            class="bg-blue-600 text-white px-8 py-3 rounded-md font-semibold hover:bg-blue-500 transition-colors duration-300"
          >
            {{ i18n.lang() === 'es' ? 'Agenda un diagnóstico' : 'Schedule a Diagnosis' }}
          </a>
          <a href="#services" class="border border-gray-600 text-white px-8 py-3 rounded-md font-semibold hover:bg-gray-800 transition-colors duration-300">
            {{ i18n.lang() === 'es' ? 'Nuestros servicios' : 'Our Services' }}
          </a>
        </div>
      </div>
    </section>

    <section class="py-12 bg-white/5">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <h3 class="text-center text-gray-400 font-semibold tracking-wider uppercase">
          {{ i18n.lang() === 'es' ? 'Colaboraciones seleccionadas - Clientes y Partners' : 'Selected Collaborations - Clients & Partners' }}
        </h3>
        <div class="mt-8 flex justify-center items-center flex-wrap gap-x-12 gap-y-6">
          @for (partner of partners(); track partner.name) {
            <img
              class="h-8 object-contain opacity-80 hover:opacity-100 transition"
              [src]="partner.logoUrl"
              [alt]="partner.name + ' logo'"
              loading="lazy"
              height="32"
              width="120"
              (error)="onLogoError($event)"
            />
          }
        </div>
      </div>
    </section>

    <section id="services" class="py-20 md:py-28">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center max-w-3xl mx-auto">
          <h2 class="text-3xl md:text-4xl font-bold text-white">{{ i18n.lang() === 'es' ? 'Nuestra experiencia clave' : 'Our Core Expertise' }}</h2>
          <p class="mt-4 text-lg text-gray-400">
            {{ i18n.lang() === 'es' ? 'Ofrecemos un portafolio integral de servicios técnicos diseñado para resolver tus desafíos más críticos y abrir nuevas oportunidades.' : 'We offer a comprehensive suite of technical services designed to tackle your most significant challenges and unlock new opportunities.' }}
          </p>
        </div>
        <div class="mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          @for (service of uiServices(); track service.name) {
            <div class="bg-slate-800/50 p-8 rounded-lg border border-gray-700/50 hover:border-blue-500/50 hover:-translate-y-1 transition-all duration-300">
              <div class="flex items-center justify-center h-12 w-12 rounded-md bg-blue-600/20 text-blue-400 mb-6" [innerHTML]="service.icon"></div>
              <h3 class="text-xl font-semibold text-white">{{ service.name }}</h3>
              <p class="mt-2 text-gray-400">{{ service.description }}</p>
            </div>
          }
        </div>
      </div>
    </section>

    <section id="cases" class="py-20 md:py-28 bg-slate-800/30">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center max-w-3xl mx-auto">
          <h2 class="text-3xl md:text-4xl font-bold text-white">{{ i18n.lang() === 'es' ? 'Casos de estudio' : 'Case Studies' }}</h2>
          <p class="mt-4 text-lg text-gray-400">
            {{ i18n.lang() === 'es' ? 'Proyectos reales de empresa con impacto operativo medible.' : 'Company projects with measurable operational impact.' }}
          </p>
        </div>

        <div class="mt-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          @for (cs of caseStudies(); track cs.slug) {
            <article class="group overflow-hidden rounded-lg border border-gray-700/50 bg-slate-900/40 hover:border-blue-500/50 hover:-translate-y-1 transition-all duration-300">
              <img
                [src]="cs.imageUrl"
                [alt]="cs.title + ' thumbnail'"
                class="h-40 w-full object-cover"
                loading="lazy"
              />

              <div class="p-6">
                <div class="flex items-center gap-3">
                  <div class="flex h-12 w-12 items-center justify-center rounded-md bg-blue-600/20 text-blue-400" [innerHTML]="cs.icon"></div>
                  <h3 class="text-lg font-semibold text-white">{{ cs.title }}</h3>
                </div>

                <p class="mt-3 text-gray-400">{{ cs.summary }}</p>

                <div class="mt-4 flex flex-wrap gap-2">
                  @if (cs.tags?.length) {
                    @for (t of cs.tags; track t) {
                      <span class="text-xs bg-slate-700/60 text-gray-300 px-2.5 py-1 rounded-full">{{ t }}</span>
                    }
                  }
                </div>

                <div class="mt-6">
                  @if (cs.link) {
                    <a
                      [href]="cs.link"
                      target="_blank"
                      rel="noopener noreferrer"
                      class="inline-flex items-center gap-2 text-blue-400 hover:text-blue-300"
                    >
                      {{ i18n.lang() === 'es' ? 'Ver caso' : 'View case' }}
                      <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M13.5 5.25 21 12l-7.5 6.75v-4.5H3v-4.5h10.5v-4.5Z"/>
                      </svg>
                    </a>
                  } @else {
                    <a [routerLink]="['/cases', cs.slug]" class="inline-flex items-center gap-2 text-blue-400 hover:text-blue-300">
                      {{ i18n.lang() === 'es' ? 'Ver caso' : 'View case' }}
                      <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M13.5 5.25 21 12l-7.5 6.75v-4.5H3v-4.5h10.5v-4.5Z"/>
                      </svg>
                    </a>
                  }
                </div>
              </div>
            </article>
          }
        </div>

        <div class="mt-10 text-center">
          <a [routerLink]="['/cases']" class="inline-flex items-center gap-2 text-blue-400 hover:text-blue-300 font-semibold">
            {{ i18n.lang() === 'es' ? 'Ver todos los casos' : 'View all case studies' }}
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor">
              <path d="M13.5 5.25 21 12l-7.5 6.75v-4.5H3v-4.5h10.5v-4.5Z"/>
            </svg>
          </a>
        </div>
      </div>
    </section>

    <section class="py-20 md:py-28 bg-slate-800/30">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <div>
            <h2 class="text-3xl md:text-4xl font-bold text-white">{{ i18n.lang() === 'es' ? 'Sectores clave' : 'Serving Key Industries' }}</h2>
            <p class="mt-4 text-lg text-gray-400">
              {{ i18n.lang() === 'es' ? 'Nuestra capacidad multidisciplinar nos permite aportar soluciones a medida en sectores exigentes, asegurando cumplimiento, eficiencia e innovación.' : 'Our multidisciplinary expertise allows us to deliver tailored solutions across a range of demanding sectors, ensuring compliance, efficiency, and innovation.' }}
            </p>
            <div class="mt-8 flex flex-wrap gap-4">
              @for (sector of sectors(); track sector) {
                <span class="bg-gray-700 text-gray-300 px-4 py-2 rounded-full font-medium">{{ sector }}</span>
              }
            </div>
          </div>
          <div class="relative h-80 rounded-lg overflow-hidden">
            <img src="assets/industrial.png" alt="Industrial sector" class="w-full h-full object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-[#0d1f33] to-transparent"></div>
          </div>
        </div>
      </div>
    </section>

    <section class="py-20 md:py-32">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl md:text-4xl font-bold text-white">{{ i18n.lang() === 'es' ? '¿Listo para optimizar tu próximo proyecto?' : 'Ready to Optimize Your Next Project?' }}</h2>
        <p class="mt-4 text-lg text-gray-400 max-w-2xl mx-auto">
          {{ i18n.lang() === 'es' ? 'Hablemos de cómo nuestra experiencia técnica puede ayudarte a cumplir objetivos concretos.' : 'Let\'s discuss how our technical expertise can be leveraged to meet your specific goals.' }}
        </p>
        <div class="mt-8">
          <a href="/contact" class="bg-blue-600 text-white px-8 py-4 rounded-md font-semibold text-lg hover:bg-blue-500 transition-colors duration-300">
            {{ i18n.lang() === 'es' ? 'Solicitar propuesta' : 'Request a Proposal' }}
          </a>
        </div>
      </div>
    </section>
  </main>

  <app-footer></app-footer>
</div>

